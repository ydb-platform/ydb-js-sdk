# YDB JavaScript SDK Examples

–≠—Ç–∞ –ø–∞–ø–∫–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç –ø—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è YDB JavaScript SDK. –ö–∞–∂–¥—ã–π –ø—Ä–∏–º–µ—Ä –æ—Ñ–æ—Ä–º–ª–µ–Ω –∫–∞–∫ –æ—Ç–¥–µ–ª—å–Ω—ã–π npm-–ø–∞–∫–µ—Ç, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–Ω–æ –ª–µ–≥–∫–æ —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ –∫–∞—á–µ—Å—Ç–≤–µ —Å—Ç–∞—Ä—Ç–æ–≤–æ–≥–æ —à–∞–±–ª–æ–Ω–∞ –¥–ª—è –≤–∞—à–∏—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤.

## üì¶ –î–æ—Å—Ç—É–ø–Ω—ã–µ –ø—Ä–∏–º–µ—Ä—ã

### üìÅ **[api/](./api/)**

–ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –Ω–∏–∑–∫–æ—É—Ä–æ–≤–Ω–µ–≤–æ–≥–æ API –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å YDB:

- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Discovery Service
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å –ø–æ–º–æ—â—å—é WhoAmI

```bash
cd examples/api
npm install && npm start
```

### üìÅ **[query/](./query/)**

–ü—Ä–∏–º–µ—Ä –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è SQL-–∑–∞–ø—Ä–æ—Å–æ–≤:

- –°–æ–∑–¥–∞–Ω–∏–µ –∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ SQL-–∑–∞–ø—Ä–æ—Å–æ–≤
- –†–∞–±–æ—Ç–∞ —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ –∑–∞–ø—Ä–æ—Å–æ–≤
- –°–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü –∏ –∏–Ω–¥–µ–∫—Å–æ–≤
- –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

```bash
cd examples/query
npm install && npm start
```

### üìÅ **[sls/](./sls/)**

–ü—Ä–∏–º–µ—Ä—ã –¥–ª—è Serverless —Ñ—É–Ω–∫—Ü–∏–π (AWS Lambda, Yandex Cloud Functions, Vercel Functions –∏ –ø–æ–¥–æ–±–Ω—ã—Ö):

- –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —Å HTTP/2 —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è–º–∏ –≤ serverless
- –°–æ–∑–¥–∞–Ω–∏–µ –¥—Ä–∞–π–≤–µ—Ä–∞ –≤–Ω—É—Ç—Ä–∏ handler —Ñ—É–Ω–∫—Ü–∏–∏
- –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∂–∏–∑–Ω–µ–Ω–Ω—ã–º —Ü–∏–∫–ª–æ–º —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π

```bash
cd examples/sls
npm install && npm start
```

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç —Å DevContainer

–°–∞–º—ã–π –ø—Ä–æ—Å—Ç–æ–π —Å–ø–æ—Å–æ–± –ø–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å –ø—Ä–∏–º–µ—Ä—ã ‚Äî –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å DevContainer. –û–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞—Å—Ç—Ä–æ–∏—Ç –æ–∫—Ä—É–∂–µ–Ω–∏–µ —Å YDB –∏ –≤—Å–µ–º–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–º–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏.

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- [Visual Studio Code](https://code.visualstudio.com/)
- [Docker](https://www.docker.com/)
- –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ [Dev Containers](https://marketplace.visualstudio.com/items?itemName=ms-vscode-remote.remote-containers) –¥–ª—è VS Code

### –ó–∞–ø—É—Å–∫

1. –û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–æ–µ–∫—Ç –≤ VS Code
2. –ù–∞–∂–º–∏—Ç–µ `Ctrl+Shift+P` (–∏–ª–∏ `Cmd+Shift+P` –Ω–∞ Mac)
3. –í—ã–±–µ—Ä–∏—Ç–µ **"Dev Containers: Reopen in Container"**
4. –î–æ–∂–¥–∏—Ç–µ—Å—å –æ–∫–æ–Ω—á–∞–Ω–∏—è —Å–±–æ—Ä–∫–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ (—ç—Ç–æ –º–æ–∂–µ—Ç –∑–∞–Ω—è—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –º–∏–Ω—É—Ç –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ)

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ DevContainer —É –≤–∞—Å –±—É–¥–µ—Ç:

- ‚úÖ –õ–æ–∫–∞–ª—å–Ω–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö YDB
- ‚úÖ –í—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

## üîß –†—É—á–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

–ï—Å–ª–∏ –≤—ã –ø—Ä–µ–¥–ø–æ—á–∏—Ç–∞–µ—Ç–µ –∑–∞–ø—É—Å–∫–∞—Ç—å –ø—Ä–∏–º–µ—Ä—ã –ª–æ–∫–∞–ª—å–Ω–æ –±–µ–∑ DevContainer:

### 1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ YDB

```bash
# –°–æ–∑–¥–∞–π—Ç–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –¥–ª—è YDB (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö)
mkdir ~/ydbd && cd ~/ydbd
mkdir ydb_data
mkdir ydb_certs

# –ó–∞–ø—É—Å—Ç–∏—Ç–µ YDB –≤ Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ
docker run -d --rm --name ydb-local -h localhost \
  --platform linux/amd64 \
  -p 2135:2135 -p 2136:2136 -p 8765:8765 -p 9092:9092 \
  -v $(pwd)/ydb_certs:/ydb_certs -v $(pwd)/ydb_data:/ydb_data \
  -e GRPC_TLS_PORT=2135 -e GRPC_PORT=2136 -e MON_PORT=8765 \
  -e YDB_KAFKA_PROXY_PORT=9092 \
  ydbplatform/local-ydb:latest
```

> **–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –ï—Å–ª–∏ –≤–∞–º –Ω–µ –Ω—É–∂–Ω–æ —Å–æ—Ö—Ä–∞–Ω—è—Ç—å –¥–∞–Ω–Ω—ã–µ –º–µ–∂–¥—É –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–º–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞, –º–æ–∂–Ω–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å YDB –±–µ–∑ volume:
>
> ```bash
> docker run -d --rm --name ydb-local -h localhost \
>   --platform linux/amd64 \
>   -p 2135:2135 -p 2136:2136 -p 8765:8765 -p 9092:9092 \
>   -e GRPC_TLS_PORT=2135 -e GRPC_PORT=2136 -e MON_PORT=8765 \
>   -e YDB_KAFKA_PROXY_PORT=9092 \
>   ydbplatform/local-ydb:latest
> ```

### 2. –í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–∏–º–µ—Ä –∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

```bash
# –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –ø–∞–ø–∫—É —Å –Ω—É–∂–Ω—ã–º –ø—Ä–∏–º–µ—Ä–æ–º
cd examples/query  # –∏–ª–∏ api, retry, sls

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
npm install
```

### 3. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

```bash
export YDB_CONNECTION_STRING="grpc://localhost:2136/local"
```

## ‚ñ∂Ô∏è –ó–∞–ø—É—Å–∫ –ø—Ä–∏–º–µ—Ä–æ–≤

–ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è –≤—ã –º–æ–∂–µ—Ç–µ –∑–∞–ø—É—Å–∫–∞—Ç—å –ª—é–±–æ–π –ø—Ä–∏–º–µ—Ä:

```bash
# –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –ø–∞–ø–∫—É —Å –ø—Ä–∏–º–µ—Ä–æ–º –∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ
cd examples/api && npm start

# –ò–ª–∏ —Å –æ—Ç–ª–∞–¥–æ—á–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π
cd examples/query && npm run dev

# Serverless –ø—Ä–∏–º–µ—Ä
cd examples/sls && npm start
```

## üìã –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫–∞–∫ —à–∞–±–ª–æ–Ω

–ö–∞–∂–¥—ã–π –ø—Ä–∏–º–µ—Ä –º–æ–∂–Ω–æ –ª–µ–≥–∫–æ —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–∞–∫ –æ—Å–Ω–æ–≤—É –¥–ª—è –≤–∞—à–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞:

```bash
# –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –Ω—É–∂–Ω—ã–π –ø—Ä–∏–º–µ—Ä
cp -r examples/query my-ydb-project
cd my-ydb-project

# –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–æ–¥ –≤–∞—à–∏ –Ω—É–∂–¥—ã
npm install
# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ index.js
npm start
```

### –û—Ç–ª–∞–¥–∫–∞

–ö–∞–∂–¥—ã–π –ø—Ä–∏–º–µ—Ä –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –æ—Ç–ª–∞–¥–æ—á–Ω—ã–π —Ä–µ–∂–∏–º —á–µ—Ä–µ–∑ npm script:

```bash
# –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –Ω—É–∂–Ω—ã–π –ø—Ä–∏–º–µ—Ä –∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å –æ—Ç–ª–∞–¥–∫–æ–π
cd examples/query
npm run dev  # —ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç–Ω–æ DEBUG=ydbjs:* npm start
```

## üìñ –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

- [–û—Ñ–∏—Ü–∏–∞–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è YDB](https://ydb.tech/docs/)
- [YDB JavaScript SDK –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è](https://github.com/ydb-platform/ydb-js-sdk)
- [–ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è](https://ydb.tech/docs/en/reference/ydb-sdk/example/)

## üí° –°–æ–≤–µ—Ç—ã

- –ù–∞—á–Ω–∏—Ç–µ —Å `examples/query/` ‚Äî —ç—Ç–æ –Ω–∞–∏–±–æ–ª–µ–µ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–Ω—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `npm run dev` –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏ –ø—Ä–æ–±–ª–µ–º —Å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ–º
- –í DevContainer YDB –¥–æ—Å—Ç—É–ø–Ω–∞ –ø–æ –∞–¥—Ä–µ—Å—É `grpc://localhost:2136/local`
- Web UI YDB –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É http://localhost:8765 (–≤ DevContainer)
- –ö–∞–∂–¥—ã–π –ø—Ä–∏–º–µ—Ä –∏–º–µ–µ—Ç —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π README.md —Å –ø–æ–¥—Ä–æ–±–Ω—ã–º–∏ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º–∏
- –í—ã –º–æ–∂–µ—Ç–µ –ª–µ–≥–∫–æ –∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –ª—é–±–æ–π –ø—Ä–∏–º–µ—Ä –∫–∞–∫ —Å—Ç–∞—Ä—Ç–æ–≤—ã–π —à–∞–±–ª–æ–Ω –¥–ª—è —Å–≤–æ–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞
